<!-- the backend seem to fetch comment like dislike fine, but the frontend can't get the data correctly
In Get Comment By Comment ID Function
Comment found: {
  _id: new ObjectId('672e28b8423b1eee8681a905'),
  user: {
    _id: new ObjectId('672d9b82bead7c8117cabea9'),
    name: 'Catto',
    userName: 'Catto',
    about: "I'm a cat",
    profilePic: 'https://res.cloudinary.com/dicsxejp4/image/upload/v1731083973/zk8iqgvinptxqzm7mpxa.jpg',
    createdAt: 2024-11-08T05:02:58.488Z
  },
  video: new ObjectId('672e1b86b3636dda5ba7469b'),
  message: 'Noice',
  createdAt: 2024-11-08T15:05:28.784Z,
  like: [ new ObjectId('672f1bd656fef84100013434') ],
  dislike: []
}shortItem.js:92 
 Error fetching like/dislike comment: TypeError: Cannot read properties of undefined (reading 'comment')
    at shortItem.js:83:1
const ShortItem = ({ item, userPic }) => {
    const [comments, setComments] = useState([]);
    const [message, setMessage] = useState("");
    const [loadingComments, setLoadingComments] = useState(true);
    const [showComments, setShowComments] = useState(false);
    const [data, setData] = useState(null);
    const [commentData, setCommentData] = useState(null);
    const [like, setLike] = useState(0);
    const [dislike, setDislike] = useState(0);
    const [userLiked, setUserLiked] = useState(false);
    const [userDisliked, setUserDisliked] = useState(false);
    const [commentLike, setCommentLike] = useState(0);
    const [commentDislike, setCommentDislike] = useState(0);
    const [userCommentLiked, setUserCommentLiked] = useState(false);
    const [userCommentDisliked, setUserCommentDisliked] = useState(false);
    const [hasIncremented, setHasIncremented] = useState(false);
    const [isSubscribed, setIsSubscribed] = useState(false);
    const userId = localStorage.getItem("userId");
    const token = localStorage.getItem("token");
    const videoRef = useRef(null);
    const fetchLikeDislikeData = useCallback(async () => {
        try {
            const videoResponse = await axios.get(`http://localhost:4000/api/getVideoById/${item._id}`);
            const videoData = videoResponse.data.video;
            setData(videoData);
            setLike(videoData.like ? videoData.like.length : 0);
            setDislike(videoData.dislike ? videoData.dislike.length : 0);
            if (userId) {
                setUserLiked(videoData.like.includes(userId));
                setUserDisliked(videoData.dislike.includes(userId));
            }
            if (userId) {
                const subscriptionResponse = await apiClient.get(`http://localhost:4000/auth/getSubscriptions`, {
                    headers: { Authorization: `Bearer ${token}` },
                    withCredentials: true
                });
                const subscribedIds = subscriptionResponse.data.subscriptions.map(sub => sub._id);
                setIsSubscribed(subscribedIds.includes(videoData.user._id));
            }
        } catch (error) {
            console.error("Error fetching like/dislike data:", error);
        }
    }, [item._id, userId, token]);
    useEffect(() => {
        if (item && item._id) {
            fetchLikeDislikeData();
        }
    }, [fetchLikeDislikeData, item]);
    const fetchComments = useCallback(async () => {
        try {
            const response = await axios.get(`http://localhost:4000/commentApi/getCommentByVideoId/${item._id}`);
            setComments(response.data.comments || []);
        } catch (error) {
            console.error("Error fetching comments:", error);
        } finally {
            setLoadingComments(false);
        }
    }, [item._id]);
    useEffect(() => {
        fetchComments();
    }, [fetchComments]);
    const fetchCommentLikeDislikeData = useCallback(async (commentId) => {
        console.log("Fetching like/dislike data for comment ID:", commentId); 
        if (!commentId) {
            console.error("Error: Comment ID is undefined.");
            return;
        }
        try {
            const commentResponse = await axios.get(`http://localhost:4000/commentApi/getCommentById/${commentId}`);
            const commentActionData = commentResponse.commentData.comment;
            setCommentData(commentActionData);
            setCommentLike(commentActionData.like ? commentActionData.like.length : 0);
            setCommentDislike(commentActionData.dislike ? commentActionData.dislike.length : 0);
            if (userId) {
                setUserLiked(commentActionData.like.includes(userId));
                setUserDisliked(commentActionData.dislike.includes(userId));
            }
        } catch (error) {
            console.error("Error fetching like/dislike comment:", error);
        }
    }, [userId]);
    useEffect(() => {
        if (comments && comments.length > 0) {
            fetchCommentLikeDislikeData(comments[0]._id);
        }
    }, [comments, commentData, fetchCommentLikeDislikeData]);
return (
        <div className="shortVideoBlock">
            <div className="shortSideBar">
                <div className="shortLikeBox" onClick={() => handleVideoLikeDislike("like")}>
                    <i className={userLiked ? "fa-solid fa-thumbs-up" : "fa-regular fa-thumbs-up"}></i>
                </div>
                <span>{like}</span>
                <div className="shortDislikeBox" onClick={() => handleVideoLikeDislike("dislike")}>
                    <i className={userDisliked ? "fa-solid fa-thumbs-down" : "fa-regular fa-thumbs-down"}></i>
                </div>
                <span>{dislike}</span>
                <div className="shortCommentBox" onClick={toggleComments}>
                    <i className="fas fa-comment"></i>
                </div>
                <span>{loadingComments ? 'Loading comments...' : comments.length}</span>
                <div className="shortShareBox">
                    <i className="fas fa-share"></i>
                </div>
                <Link to={`/user/${item?.user?._id}`} className="shortProfileBox">
                    <img src={item.user?.profilePic || "default_profile.jpg"} alt={`${item.user?.name || "Unknown"} profile`} />
                </Link>
            </div>
            {showComments && (
                <div className="commentBox">
                    <div>
                        <h4>Comments ({comments.length})</h4>
                        {loadingComments ? (
                            <p>Loading...</p>
                        ) : comments.length > 0 ? (
                            comments.map((comment, index) => (
                                <div key={index} className="comment">
                                    <Link to={`/user/${comment?.user?._id}`}>
                                        <img src={comment.user.profilePic || "default_profile.jpg"} alt={`${comment.user.name} profile`} className="commentProfilePic" />
                                    </Link>
                                    <div className="commentMessage">
                                        <span>{comment.user.name}</span>
                                        <p>{comment.message}</p>
                                        <div className="commentActions">
                                            <div className="shortcommentLikeBox" onClick={() => handleCommentLikeDislike(comment._id, "like")}>
                                                <i className={userCommentLiked ? "fa-solid fa-thumbs-up" : "fa-regular fa-thumbs-up"}></i>
                                            </div>
                                            <span>{commentLike}</span>
                                            <div className="shortcommentDislikeBox" onClick={() => handleCommentLikeDislike(comment._id, "dislike")}>
                                                <i className={userCommentDisliked ? "fa-solid fa-thumbs-down" : "fa-regular fa-thumbs-down"}></i>
                                            </div>
                                            <span>{commentDislike}</span>
                                        </div>
                                    </div>
                                </div>
                            ))
                        ) : (
                            <p>No comments yet.</p>
                        )}
                    </div>
                    </div>
                    </div>
                </div>
            )}
        </div>
    );
};
exports.getCommentById = async (req, res) => {
    console.log("In Get Comment By Comment ID Function");
    try {
        const { id } = req.params;
        if (!id) {
            return res.status(400).json({ error: "Comment ID is required" });
        }
        const comment = await Comment.findById(id).populate('user', 'name profilePic userName createdAt about').select('video message like dislike createdAt');
        if (!comment) {
            console.log("Comment not found for ID:", id);
            return res.status(404).json({ error: "Comment not found" });
        }
        console.log("Comment found:", comment);
        res.status(200).json({ message: 'Success', comment });
    } catch (error) {
        console.error("Error in getCommentById:", error);
        res.status(500).json({ error: 'Server error' });
    }
}; -->